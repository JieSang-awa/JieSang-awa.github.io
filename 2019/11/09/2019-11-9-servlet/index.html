<!DOCTYPE html>
<html lang="zh-CN">





<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="JieSangQAQ&#39;s blog">
  <meta name="author" content="JieSangQAQ">
  <meta name="keywords" content>
  <title>Servlet简介 ~ JieSangQAQ-兄弟会</title>

  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css">
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css">
<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


<link rel="stylesheet" href="/css/main.css">


  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css">


</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>JieSangQAQ-兄弟会</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">Archives</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">Categories</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">Tags</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">About</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/default.png')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  星期六, 十一月 9日 2019, 7:22 晚上
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    1.6k 字
                  </span>&nbsp;
                

                
                  
                  &nbsp;<i class="far fa-clock"></i>
                  <span class="post-count">
                      6 分钟
                  </span>&nbsp;
                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span> 次
                  </span>&nbsp;
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <h3 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议:"></a>HTTP协议:</h3><pre><code>超文本传输协议 , 是一个应用层的网络传输协议 !

特点:
    1.    简单, 快速.
    2.    无连接协议 , 每次连接服务器只处理一次客户端的请求 ,处理完毕, 立即断开.
    3.    无状态协议 , 处理请求, 以及进行响应时 ,没有记忆能力 !
    4.    支持多种不同的数据提交方式 ,GET/POST 等等
    5.    数据传输很灵活, 支持任意数据类型 .</code></pre><h3 id="HTTP协议的组成部分"><a href="#HTTP协议的组成部分" class="headerlink" title="HTTP协议的组成部分"></a>HTTP协议的组成部分</h3><pre><code>1.    请求 
        请求由四部分组成:
            -    请求头
                    请求头部的信息, 由一个个的键值对组成 , 描述的是有关客户端的信息.
            -    请求体
                    GET请求没有请求体. 当请求方式为POST时 ,存在请求体, 请求体是用于存储数据的数据容器 !
            -    请求空行
                    请求头部与请求体之间的一行空白
            -    请求行
                    由一个个的键值对组成, 描述的是:描述了请求的方式,远端服务器地址 ,以及所使用的协议版本等信息.

2.    响应
        响应由三部分组成:
            -    响应头
                    响应头部的信息, 由一个个的键值对组成, 描述的是有关服务器的信息.
            -    响应体
                    服务器给客户端回复的主体内容 .
            -    响应行
                    描述了响应的协议版本, 响应状态码, 以及响应成功或失败的相关解释.</code></pre><h4 id="开发环境下-代码部署到服务器后-访问的路径"><a href="#开发环境下-代码部署到服务器后-访问的路径" class="headerlink" title="开发环境下: 代码部署到服务器后, 访问的路径:"></a>开发环境下: 代码部署到服务器后, 访问的路径:</h4><pre><code>http://ip地址:端口号/项目名/文件名.后缀名</code></pre><h4 id="HttpServlet-类"><a href="#HttpServlet-类" class="headerlink" title="HttpServlet 类"></a>HttpServlet 类</h4><pre><code>简介:
    是JavaWeb中的 三大组件之一 .
    本质上:     就是一个运行在tomcat中的  java类

作用:
    用于处理客户端的请求, 以及对客户端进行响应 .

步骤:
    1.    编写一个类, 继承自HttpServlet
    2.    重写父类的service(HttpServletRequest request,HttpServletResponse response)方法
    3.    在service方法中 对用户进行响应.

案例:
    public class Servlet1 extends HttpServlet{
        /**
         * @param request :        请求对象 , 包含了请求相关的所有信息
         * @param response :    响应对象 , tomcat提供的用于给客户端响应内容的 各种工具.
         */
        @Override
        protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
            //1.    设置响应的 编码格式 以及 响应的内容类型
            response.setContentType(&quot;text/html;charset=utf-8&quot;);
            //2.    获取用于打印响应体的 打印流
            PrintWriter pw = response.getWriter();
            //3.    打印一些准备响应的内容
            pw.println(&quot;&lt;h1&gt;从前有座山 , 山上有座尼姑庵 ! 庵里有个老尼姑 ...&lt;/h1&gt;&quot;);
            pw.flush();
            //当service方法执行完毕后, tomcat会将我们准备好的响应体发送给浏览器
        }
    }</code></pre><h3 id="将编写好的servlet-映射到一个网址上"><a href="#将编写好的servlet-映射到一个网址上" class="headerlink" title="将编写好的servlet  映射到一个网址上:"></a>将编写好的servlet  映射到一个网址上:</h3><pre><code>web3.0之前版本:
    修改项目中的配置文件 web.xml

    在web.xml根节点中 加入:

        1.    servlet节点 ,用于将serlvet类告知tomcat
            &lt;servlet&gt;
                &lt;servlet-name&gt;任意的标识符,给servlet起别名&lt;/servlet-name&gt;
                &lt;servlet-class&gt;包名.类名&lt;servlet-class&gt;
            &lt;/servlet&gt;
        2.    servlet-mapping , 通过别名告知tomcat ,某servlet的映射网址
            映射网址 ,通常以/开头 , 例如:        /demo1  , 访问网址: http://ip地址:端口号/项目名/demo1   
            &lt;servlet-mapping&gt;
                &lt;servlet-name&gt;要添加映射网址的别名&lt;/servlet-name&gt;
                &lt;url-pattern&gt;/映射的网址&lt;/url-pattern&gt;
            &lt;/servlet-mapping&gt;

web3.0+    版本:
    通过WebServlet注解:

    案例:
    @WebServlet(&quot;/hello2&quot;)
    public class Servlet2 extends HttpServlet{
        /**
         * @param request :        请求对象 , 包含了请求相关的所有信息
         * @param response :    响应对象 , tomcat提供的用于给客户端响应内容的 各种工具.
         */
        @Override
        protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
            //1.    设置响应的 编码格式 以及 响应的内容类型
            response.setContentType(&quot;text/html;charset=utf-8&quot;);
            //2.    获取用于打印响应体的 打印流
            PrintWriter pw = response.getWriter();
            //3.    打印一些准备响应的内容
            pw.println(&quot;&lt;script&gt;alert(&apos;恭喜你, 获得奖品: 苹果笔记本电脑一台 , 现金1980 ,请输入银行卡密码领取&apos;)&lt;/script&gt;&quot;);
            pw.println(&quot;&lt;input &gt;&lt;button onclick=&apos;alert(\&quot;哈哈哈哈哈哈哈,你真信啊\&quot;)&apos;&gt;提交&lt;/button&gt;&quot;);
            pw.flush();
            //当service方法执行完毕后, tomcat会将我们准备好的响应体发送给浏览器
        }
    }</code></pre><h3 id="Servlet的生命周期"><a href="#Servlet的生命周期" class="headerlink" title="Servlet的生命周期"></a>Servlet的生命周期</h3><pre><code>指的是 Servlet从创建 到 消亡的 周期!

Servlet的创建时机:    默认情况 , 当用户第一次访问Servlet的映射地址时  . 对象创建.
Servlet的销毁时机:    当tomcat关闭, 或 项目从tomcat删除时. Servlet被销毁.

三个方法的体现:

    1.    init方法        :    此方法在对象创建后, 执行.
    2.    service方法    :    服务方法,当用户每一次访问时, 执行,  用于处理用户的请求, 以及对用户进行响应 .
    3.    destroy方法    :    当tomcat关闭 或 项目从tomcat删除时 执行;    </code></pre><h3 id="ServletConfig对象"><a href="#ServletConfig对象" class="headerlink" title="ServletConfig对象"></a>ServletConfig对象</h3><pre><code>是Servlet的配置对象, 每一个Servlet都拥有一个ServletConfig .

我们在web.xml中 进行Servlet配置时. 可以向一个Servlet中 添加初始化的参数. 
这些参数以键值对的形式存储在ServletConfig中


在web.xml中 , 向ServletConfig 存储数据的格式:
    &lt;servlet&gt;
        ...
        &lt;!-- init-param标签可以存在多个, 每一个init-param都表示一个键值对 --&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;键&lt;/param-name&gt;
            &lt;param-value&gt;值&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/servlet&gt;

在Servlet中 得到ServletConfig对象的方式:     
    方式1与方式2是互斥的.

    方式1.
        在Servlet中, 重写生命周期init(ServletConfig config)方法 , 使用方法参数中的config对象
    方式2.
        在Servlet的任意代码位置 , 通过getServletConfig();方法. 得到对象

从ServletConfig 取出数据的格式:

    String value = config对象.getInitParameter(String name);</code></pre><h3 id="调整-Servlet的创建时机"><a href="#调整-Servlet的创建时机" class="headerlink" title="调整 Servlet的创建时机"></a>调整 Servlet的创建时机</h3><pre><code>在web.xml中 . 配置servlet时.

&lt;servlet&gt;
    &lt;servlet-name...
    &lt;servlet-class...
    &lt;load-on-startup&gt;数字&lt;/load-on-startup&gt;
&lt;/servlet&gt;

load-on-startup: 
    取值为数字: (默认值为-1)
        当值为负数时:    懒汉模式, 第一次请求时加载 , 
        当值≥0时 , 描述的是请求的顺序, 值越小越早加载.

        如果多个servlet值相同:    按照web.xml中servlet的配置顺序 自上而下加载.</code></pre><h3 id="如何接收用户-表单-的参数"><a href="#如何接收用户-表单-的参数" class="headerlink" title="如何接收用户 表单 的参数"></a>如何接收用户 表单 的参数</h3><pre><code>1.    根据一个name , 接收单个参数 
        String value = request.getParameter(String name);    

2.    根据一个name , 接收一组参数
        String[] values = request.getParameterValues(String name);</code></pre>
            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/11%E6%9C%88">11月</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/Java">Java</a>
                
              </span>
            
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" rel="nofollow noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
      <br><br>
      
      
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function () {
        this.page.url = 'https://github.com/JieSangQAQ/2019/11/09/2019-11-9-servlet/';
        this.page.identifier = '/2019/11/09/2019-11-9-servlet/';
      };
      var oldLoad = window.onload;
      window.onload = function () {
        var d = document, s = d.createElement('script');
        s.type = 'text/javascript';
        s.src = '//' + 'Fluid-dev' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      };
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow noopener">comments
        powered by Disqus.</a></noscript>
  </div>


    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>

    
  
  
  <br>



    

  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="/lib/smooth-scroll/smooth-scroll.min.js" ></script>




<!-- Plugins -->


  

  

  

  

  






  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Servlet简介&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="/lib/fancybox/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>







</body>
</html>
